System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,u,e,t,n,c,r;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,e=o.AudioClip,t=o.resources,n=o.Node,c=o.director,r=o.AudioSource}],execute:function(){u._RF.push({},"97c6eB6xmVM0Zfn6CD+DqwW","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",c.getScene().addChild(o),c.addPersistRootNode(o),this._audioSource=o.addComponent(r)}var u=o.prototype;return u.playOneShot=function(o,i){var u=this;void 0===i&&(i=1),o instanceof e?this._audioSource.playOneShot(o,i):t.load(o,(function(o,e){o?console.log(o):u._audioSource.playOneShot(e,i)}))},u.play=function(o,i,u){var n=this;void 0===i&&(i=1),void 0===u&&(u=!1),o instanceof e?(this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.loop=u,this._audioSource.play(),this.audioSource.volume=i):t.load(o,(function(o,u){o?console.log(o):(n._audioSource.stop(),n._audioSource.clip=u,n._audioSource.play(),n.audioSource.volume=i)}))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/Bird.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tags.ts","./GameManager.ts","./AudioMgr.ts"],(function(t){var n,o,e,i,r,a,s,c,l,u,d,h,g,p,C,f,T,D;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.AudioClip,c=t.RigidBody2D,l=t.input,u=t.Input,d=t.Collider2D,h=t.Contact2DType,g=t.Vec2,p=t.Animation,C=t.Component},function(t){f=t.Tags},function(t){T=t.GameManager},function(t){D=t.AudioMgr}],execute:function(){var y,m,_,b,A,v;r._RF.push({},"86145ZyKllEqKXIPOdw/0W5","Bird",void 0);var E=a.ccclass,B=a.property;t("Bird",(y=E("Bird"),m=B(s),y((A=n((b=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).rgd2D=null,e(n,"rotateSpeed",A,i(n)),e(n,"clickAudio",v,i(n)),n._canControl=!1,n}o(n,t);var r=n.prototype;return r.onLoad=function(){this.rgd2D=this.getComponent(c),l.on(u.EventType.TOUCH_START,this.onTouchStart,this);var t=this.getComponent(d);t&&(t.on(h.BEGIN_CONTACT,this.onBeginContact,this),t.on(h.END_CONTACT,this.onEndContact,this))},r.onDestroy=function(){l.off(u.EventType.TOUCH_START,this.onTouchStart,this);var t=this.getComponent(d);t&&(t.off(h.BEGIN_CONTACT,this.onBeginContact,this),t.off(h.END_CONTACT,this.onEndContact,this))},r.onTouchStart=function(){this._canControl&&this.rgd2D&&(this.rgd2D.linearVelocity=new g(0,10),this.node.angle=30,this.rgd2D=this.getComponent(c),D.inst.playOneShot(this.clickAudio,.5))},r.start=function(){},r.update=function(t){this._canControl&&(this.node.angle-=this.rotateSpeed*t,this.node.angle<-20&&(this.node.angle=-20))},r.enableControl=function(){this.getComponent(p).enabled=!0,this._canControl=!0,this.rgd2D&&(this.rgd2D.enabled=!0)},r.disableControl=function(){this.getComponent(p).enabled=!1,this._canControl=!1,this.rgd2D&&(this.rgd2D.enabled=!1)},r.disableControlNotRGD=function(){this.getComponent(p).enabled=!1,this._canControl=!0},r.onBeginContact=function(t,n,o){console.log("@@@onBeginContact",n.tag),n.tag!==f.LAND&&n.tag!==f.PIPE||(T.hasInstance()&&T.inst().transistionToGameOverState(),console.log("@@@Game Over!"))},r.onEndContact=function(t,n,o){if(n.tag===f.PIPE_MIDDLE){var e=T.inst();e?e.addScore(1):console.error("GameManager instance not found!")}},n}(C)).prototype,"rotateSpeed",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),v=n(b.prototype,"clickAudio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=b))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc"],(function(t){var e,c;return{setters:[function(t){e=t.cclegacy,c=t._decorator}],execute:function(){e._RF.push({},"6108fav8Q9EU6UETmzo14RZ","GameData",void 0);c.ccclass,c.property;t("GameData",function(){function t(){}return t.addScore=function(t){void 0===t&&(t=1),this._score+=t},t.getScore=function(){return this._score},t.getBestScore=function(){var t=localStorage.getItem("BestScore");return null===t?0:parseInt(t)},t.saveScore=function(){this._score>this.getBestScore()&&localStorage.setItem("BestScore",this._score.toString())},t}())._score=0,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bird.ts","./MoveBg.ts","./PipeSpawner.ts","./GameReadyUI.ts","./GameData.ts","./GameOverUI.ts","./AudioMgr.ts"],(function(e){var i,n,t,o,a,r,s,l,u,g,c,d,p,h,b,m,v,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Label,u=e.AudioClip,g=e.director,c=e.Component},function(e){d=e.Bird},function(e){p=e.MoveBg},function(e){h=e.PipeSpawner},function(e){b=e.GameReadyUI},function(e){m=e.GameData},function(e){v=e.GameOverUI},function(e){f=e.AudioMgr}],execute:function(){var M,y,I,S,G,w,U,R,O,_,z,A,B,D,L,C,P,T,N,F,x,Y,j,k;a._RF.push({},"3db318YSYpPvb11uoJMTFs8","GameManager",void 0);var H=r.ccclass,J=r.property,q=function(e){return e[e.Ready=0]="Ready",e[e.Gaming=1]="Gaming",e[e.GameOver=2]="GameOver",e}(q||{});e("GameManager",(M=H("GameManager"),y=J(d),I=J(p),S=J(p),G=J(h),w=J(b),U=J(v),R=J(s),O=J(l),_=J(u),z=J(u),M(((k=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(i=e.call.apply(e,[this].concat(a))||this).moveSpeed=200,i.spawnRateMax=5,t(i,"bird",D,o(i)),t(i,"bgMoving",L,o(i)),t(i,"landMoving",C,o(i)),t(i,"pipeSpawner",P,o(i)),t(i,"gameReadyUI",T,o(i)),t(i,"gameOverUI",N,o(i)),t(i,"gameMingUI",F,o(i)),t(i,"scoreLabel",x,o(i)),t(i,"bgAudio",Y,o(i)),t(i,"gameOverAudio",j,o(i)),i.curGS=q.Ready,i}n(i,e),i.inst=function(){return null===this._inst&&(this._inst=g.getScene().getComponentInChildren(i),null===this._inst)?(console.error("GameManager not found in the scene!"),null):this._inst},i.hasInstance=function(){return null!==i._inst},i.safeInst=function(){return i._inst};var a=i.prototype;return a.onLoad=function(){if(null===i._inst)i._inst=this,g.addPersistRootNode(this.node),console.log("GameManager initialized"),console.log("Bird component:",this.bird),console.log("BgMoving component:",this.bgMoving),console.log("LandMoving component:",this.landMoving);else if(i._inst!==this)return console.warn("Multiple GameManager instances detected. Destroying duplicate."),void this.node.destroy()},a.transistionToReadyState=function(){this.curGS=q.Ready,this.bird&&this.bird.disableControl(),this.bgMoving&&this.bgMoving.disableMoving(),this.landMoving&&this.landMoving.disableMoving(),this.pipeSpawner&&this.pipeSpawner.pause(),this.gameReadyUI&&(this.gameReadyUI.node.active=!0),this.gameMingUI&&(this.gameMingUI.active=!1),this.gameOverUI&&(this.gameOverUI.node.active=!1)},a.transistionToGamingState=function(){this.bird?this.bird.enableControl():console.error("Bird component not found!"),this.bgMoving&&this.bgMoving.enableMoving(),this.landMoving&&this.landMoving.enableMoving(),this.pipeSpawner&&this.pipeSpawner.play(),this.gameReadyUI&&(this.gameReadyUI.node.active=!1),this.gameMingUI&&(this.gameMingUI.active=!0)},a.transistionToGameOverState=function(){this.curGS!==q.GameOver&&(this.curGS=q.GameOver,this.bird&&this.bird.disableControlNotRGD(),this.bgMoving&&this.bgMoving.disableMoving(),this.landMoving&&this.landMoving.disableMoving(),this.pipeSpawner&&this.pipeSpawner.pause(),this.gameMingUI&&(this.gameMingUI.active=!1),this.gameOverUI&&this.gameOverUI.show(m.getScore(),m.getBestScore()),f.inst.play(this.gameOverAudio,.5,!1))},a.start=function(){this.transistionToReadyState(),f.inst.play(this.bgAudio,.5,!0)},a.update=function(e){},a.addScore=function(e){void 0===e&&(e=1),m.addScore(e),this.scoreLabel.string=m.getScore().toString()},a.onDestroy=function(){i._inst===this&&(g.removePersistRootNode(this.node),i._inst=null,console.log("GameManager destroyed."))},i}(c))._inst=null,D=i((B=k).prototype,"bird",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(B.prototype,"bgMoving",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(B.prototype,"landMoving",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(B.prototype,"pipeSpawner",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(B.prototype,"gameReadyUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(B.prototype,"gameOverUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(B.prototype,"gameMingUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(B.prototype,"scoreLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(B.prototype,"bgAudio",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(B.prototype,"gameOverAudio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,l,c,u,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,c=e.Node,u=e.director,s=e.Component}],execute:function(){var p,b,f,h,y,g,d,m,v,S,w;o._RF.push({},"0a79188AgxBgbwcBz3ji/iU","GameOverUI",void 0);var L=a.ccclass,z=a.property;e("GameOverUI",(p=L("GameOverUI"),b=z(l),f=z(l),h=z(c),y=z([c]),p((m=r((d=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"curScoreLabel",m,n(r)),i(r,"bestcoreLabel",v,n(r)),i(r,"newSprite",S,n(r)),i(r,"medalArray",w,n(r)),r}t(r,e);var o=r.prototype;return o.show=function(e,r){console.log("@@@curScore:",e,"betScore:",r),this.node.active=!0,this.curScoreLabel.string=e.toString(),this.bestcoreLabel.string=r.toString(),this.newSprite.active=e>r;var t=Math.floor(e/10);t>this.medalArray.length-1&&(t=this.medalArray.length-1),this.medalArray[t].active=!0},o.hide=function(){this.node.active=!1},o.onPlayButtonClick=function(){u.loadScene("Game")},r}(s)).prototype,"curScoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(d.prototype,"bestcoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(d.prototype,"newSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(d.prototype,"medalArray",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameReadyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var n,e,o,a,r,i,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.input,r=t.Input,i=t.Component},function(t){u=t.GameManager}],execute:function(){var c;e._RF.push({},"177459+OO1I/ZqS331hXYZf","GameReadyUI",void 0);var s=o.ccclass;o.property,t("GameReadyUI",s("GameReadyUI")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){a.on(r.EventType.TOUCH_START,this.onTouchStart,this)},o.onDestroy=function(){a.off(r.EventType.TOUCH_START,this.onTouchStart,this)},o.onTouchStart=function(){u.inst().transistionToGamingState()},o.start=function(){},o.update=function(t){},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./Bird.ts","./GameData.ts","./GameManager.ts","./MoveBg.ts","./Pipe.ts","./PipeSpawner.ts","./Tags.ts","./GameOverUI.ts","./GameReadyUI.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoveBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var e,o,i,n,r,a,s,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,v=t.Component},function(t){g=t.GameManager}],execute:function(){var c,u,l,p,M,h,f;r._RF.push({},"8458b2Xzv1K2YZaf99VkdOD","MoveBg",void 0);var y=a.ccclass,d=a.property;t("MoveBg",(c=y("MoveBg"),u=d(s),l=d(s),c((h=e((M=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"target1ToMove",h,n(e)),i(e,"target2ToMove",f,n(e)),e.moveSpeed=500,e._isMoving=!1,e}o(e,t);var r=e.prototype;return r.start=function(){this.moveSpeed=g.inst().moveSpeed},r.update=function(t){if(this._isMoving){var e=this.moveSpeed*t,o=this.target1ToMove.getPosition();this.target1ToMove.setPosition(o.x-e,o.y);var i=this.target2ToMove.getPosition();this.target2ToMove.setPosition(i.x-e,i.y),o.x<-720&&(i=this.target2ToMove.getPosition(),this.target1ToMove.setPosition(i.x+720,i.y)),i.x<-720&&(o=this.target1ToMove.getPosition(),this.target2ToMove.setPosition(o.x+720,o.y))}},r.enableMoving=function(){this._isMoving=!0},r.disableMoving=function(){this._isMoving=!1},e}(v)).prototype,"target1ToMove",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(M.prototype,"target2ToMove",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=M))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/Pipe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var t,n,o,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Component},function(e){r=e.GameManager}],execute:function(){var s;n._RF.push({},"d270aWyYUhHqLQy9H26hT0c","Pipe",void 0);var c=o.ccclass;o.property,e("Pipe",c("Pipe")(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).moveSpeed=100,t}t(n,e);var o=n.prototype;return o.start=function(){this.moveSpeed=r.inst().moveSpeed},o.update=function(e){var t=this.node.position;this.node.setPosition(t.x-this.moveSpeed*e,t.y),t.x<-900&&r.inst().pipeSpawner.recyclePipe(this.node)},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/PipeSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pipe.ts","./GameManager.ts"],(function(i){var e,t,n,o,p,a,s,r,l,c,h,u,P;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){p=i.cclegacy,a=i._decorator,s=i.Prefab,r=i.NodePool,l=i.math,c=i.instantiate,h=i.Component},function(i){u=i.Pipe},function(i){P=i.GameManager}],execute:function(){var f,g,d,w,m;p._RF.push({},"cfd682n9qNGLYo3nNAzMsEY","PipeSpawner",void 0);var v=a.ccclass,S=a.property;i("PipeSpawner",(f=v("PipeSpawner"),g=S(s),f((m=e((w=function(i){function e(){for(var e,t=arguments.length,p=new Array(t),a=0;a<t;a++)p[a]=arguments[a];return e=i.call.apply(i,[this].concat(p))||this,n(e,"pipePrefab",m,o(e)),e.spawnRate=1,e.poolInitSize=10,e.poolMaxSize=15,e.timer=0,e.pipePool=null,e._isSpawning=!1,e}t(e,i);var p=e.prototype;return p.start=function(){this.pipePool=new r,this.spawnPipe()},p.update=function(i){this._isSpawning&&(this.timer+=i,this.timer>=this.spawnRate&&(this.timer=0,this.spawnRate=l.randomRange(1,P.inst().spawnRateMax),this.spawnPipe()))},p.pause=function(){this._isSpawning=!1,this.pipePool.clear();for(var i=this.node.children,e=0;e<i.length;e++){var t=i[e].getComponent(u);t&&(t.enabled=!1)}},p.play=function(){this._isSpawning=!0;for(var i=0;i<this.poolInitSize;i++){var e=c(this.pipePrefab);this.pipePool.put(e)}},p.spawnPipe=function(){if(this._isSpawning){var i=null;this.pipePool.size()>0?(i=this.pipePool.get(),console.log("@@@從對象池獲取管道節點，剩餘大小:",this.pipePool.size())):(i=c(this.pipePrefab),console.log("@@@對象池為空，創建新的管道節點"));this.node.getPosition();var e=l.randomRange(-100,200);i.setPosition(0,e,0),i.active=!0,this.node.addChild(i)}},p.recyclePipe=function(i){i.removeFromParent(),this.pipePool.size()<this.poolMaxSize?(this.pipePool.put(i),console.log("@@@回收管道節點到對象池，當前池大小:",this.pipePool.size())):(i.destroy(),console.log("@@@對象池已滿，銷毀管道節點"))},p.onDestroy=function(){this.pipePool&&this.pipePool.clear()},e}(h)).prototype,"pipePrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));p._RF.pop()}}}));

System.register("chunks:///_virtual/Tags.ts",["cc"],(function(c){var t,e;return{setters:[function(c){t=c.cclegacy,e=c._decorator}],execute:function(){t._RF.push({},"52e256g5RJDHL8jzCrWMakV","Tags",void 0);e.ccclass,e.property;var r=c("Tags",(function(){}));r.LAND=10,r.PIPE=20,r.PIPE_MIDDLE=30,t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});